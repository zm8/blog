# 书写代码注意事项

### 1. 判断一个元素是否能在数组里找到

使用 `_.some` 而不是 `_.find`,
因为 \_.find 找到的元素有可能是 `0` 或者 `false` 或则 `''`, 从而造成 bug

```javascript
var arr = [0, 1, 2]
if (_.find(arr, (item) => item === 0)) {
  // 返回0, 所以找不到
  console.log('找到了')
}

// 改成
if (_.some(arr, (item) => item === 0)) {
  console.log('找到了')
}
```

### 2. react 根据条件渲染元素的时候

不要用 `_.size`, 因为当元素为空时, 就会渲染出 0;
使用 `_.isEmpty` 去判断;

```javascript
// react
render(){
    const arr = [];
    return {_.size(arr) && <div>title</div>} // 渲染出0
}

// react
render(){
    const arr = [];
    return {!_.isEmpty(arr) && <div>title</div>}
}
```

### 3. lodash 对于 string 没有 `_.indexOf` 方法

使用`_.includes`, 而`_.indexOf` 是数组的方法

```js
_.chain('11ab22').includes('ab').value() // 返回 true
```

另外 `_.startsWith`, 可以判断是否以某个字符串开头;

```js
_.startsWith('abc', 'a') // true
_.startsWith('abc', 'b') // false
```

### 4. \_.truncate

可用来添加省略号。

```js
// 返回 h....
_.truncate('hello', {
  length: 4
})
```

### 5. 字母转为大小写

转换大写, 使用 `_.toUpper` 而不是 `_.upperCase`,
转换小写, 使用 `_.toLower` 而不是 `_.lowerCase`

```js
_.toUpper('--foo-bar--')
// => '--FOO-BAR--'

_.upperCase('--foo-bar')
// => 'FOO BAR'

_.toLower('--Foo-Bar--')
// => '--foo-bar--'

_.lowerCase('--Foo-Bar--')
// => 'foo bar'
```
